import React from 'react'
import ContentLoader, { Path, Rect } from 'react-content-loader/native'
import { View } from 'react-native'
import { useWindowDimensions } from 'tamagui'

const ImageSkeleton = props => {
  const { width: screenWidth } = useWindowDimensions()
  // 默认大小是屏幕宽度的 30%，(32 是两侧的内边距)
  const imageWidth = props.size ? props.size : (screenWidth - 32) * 0.3

  return (
    <View style={{ width: imageWidth, height: imageWidth }}>
      <ContentLoader
        speed={1}
        width={imageWidth}
        height={imageWidth}
        viewBox="0 0 300.44 300.44"
        backgroundColor="#f9f9f9ff"
        {...props}>
        <Rect x="0" width="300.44" height="300.44" rx="89" ry="89" />
      </ContentLoader>

      <ContentLoader
        style={{ position: 'absolute' }}
        speed={1}
        width={imageWidth}
        height={imageWidth}
        viewBox="0 0 300.44 300.44"
        backgroundColor="#f9f9f9ff"
        foregroundColor="#FF5757"
        {...props}>
        <Path d="M200.9 94.2C215.36 94.2 229.01 99.9901 239.31 110.49C249.61 121 255.29 134.9 255.29 149.65C255.29 164.4 249.479 178.54 239.36 188.86C231.82 196.55 219.59 196.55 212.05 188.86C204.51 181.17 204.51 168.7 212.05 161.01C214.98 158.02 216.67 153.88 216.67 149.65C216.67 140.94 209.45 133.58 200.91 133.58C192.37 133.58 185.15 140.94 185.15 149.65C185.15 153.91 186.86 158.1 189.85 161.14C199.92 171.41 205.47 185.26 205.47 200.14C205.47 215.02 199.8 228.79 189.49 239.3C179.19 249.81 165.54 255.59 151.08 255.59C136.62 255.59 122.97 249.8 112.67 239.3C103.491 229.934 97.9816 217.876 96.8908 204.924C84.0497 203.886 72.0842 198.254 62.8205 188.81C52.5205 178.3 46.8401 164.4 46.84 149.65C46.84 134.9 52.5105 121 62.8205 110.49C73.1204 99.9803 86.7699 94.2001 101.23 94.2C115.69 94.2 129.57 100.12 139.69 110.44C147.23 118.13 147.23 130.6 139.69 138.29C132.15 145.98 119.92 145.98 112.38 138.29C109.45 135.3 105.38 133.58 101.23 133.58C92.6898 133.58 85.4699 140.94 85.4699 149.65C85.47 158.36 92.6899 165.719 101.23 165.72C105.38 165.72 109.44 164 112.38 161.01C114.64 158.705 117.322 157.091 120.172 156.168C126.888 153.893 134.586 155.481 139.93 160.93C147.47 168.62 147.47 181.09 139.93 188.78C137 191.77 135.31 195.91 135.31 200.14C135.31 208.85 142.531 216.21 151.07 216.21C159.61 216.209 166.83 208.85 166.83 200.14C166.83 197.06 166.08 192.62 162.52 188.99C152.34 178.61 146.51 164.28 146.51 149.65C146.51 135.02 152.18 121 162.49 110.49C172.79 99.9802 186.44 94.2001 200.9 94.2Z" />
        <Path d="M151.08,100.65l-31.62-29.67c-4.86-4.56-5.11-12.2-.54-17.07,4.56-4.86,12.2-5.11,17.07-.54l12.66,11.89,17.98-22.23c4.19-5.18,11.8-5.99,16.98-1.79,5.18,4.19,5.99,11.8,1.79,16.98l-34.33,42.43Z" />
      </ContentLoader>
    </View>
  )
}

export default ImageSkeleton
