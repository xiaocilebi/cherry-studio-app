# Tamagui åˆ° HeroUI ç»„ä»¶è¿ç§»è®¡åˆ’

## è¿ç§»é¡»çŸ¥
1. æ‰€æœ‰æ–°çš„è¿ç§»ç»„ä»¶å‡ä¸ºä¸ ./src/componentsV2/ ç›®å½•ä¸‹ã€‚ç»„ä»¶ä¸­å…·æœ‰é»˜è®¤çš„æ ·å¼ï¼Œæ·»åŠ æ ·å¼æ—¶éœ€è¦æŸ¥çœ‹ç»„ä»¶ä¸­çš„æ ·å¼
2. éœ€è¦å°†tamaguiæ”¹ä¸ºä½¿ç”¨heroui-native
3. æ–°æ·»åŠ çš„iconéœ€è¦åœ¨LucideIcon/index.tsxä¸­æ³¨å†Œ


## è¿ç§»æ¦‚è¿°

æœ¬æ–‡æ¡£ç”¨äºè¿½è¸ª Cherry Studio React Native åº”ç”¨ä» Tamagui åˆ° HeroUI ç»„ä»¶çš„è¿ç§»è¿›åº¦ã€‚

- **åˆ†ææ–‡ä»¶æ€»æ•°**: 178
- **éœ€è¦è¿ç§»çš„æ–‡ä»¶**: 81 (70 ç»„ä»¶ + 11 é¡µé¢ä»ä½¿ç”¨ Tamagui)
- **å·²è¿ç§»æ–‡ä»¶**: 18 (`src/componentsV2/`)
- **æ— éœ€è¿ç§»æ–‡ä»¶**: 77 (31 ç»„ä»¶ + 46 é¡µé¢å·²æ—  Tamagui)

## è¿ç§»è¿›åº¦

### âœ… å·²å®Œæˆè¿ç§»çš„ç»„ä»¶ (18/18)

ä½äº `src/componentsV2/`:

- [x] `base/ExternalLink/index.tsx`
- [x] `base/IconButton/index.tsx`
- [x] `base/Image/index.tsx`
- [x] `base/Text/index.tsx`
- [x] `base/TextField/index.tsx`
- [x] `icons/LucideIcon/index.tsx`
- [x] `interactive/HeaderBar/index.tsx`
- [x] `interactive/ModelGroup/index.tsx`
- [x] `layout/Container/index.tsx`
- [x] `layout/Group/index.tsx`
- [x] `layout/PressableRow/index.tsx`
- [x] `layout/Group/GroupTitle.tsx`
- [x] `layout/Row/index.tsx`
- [x] `layout/Row/RowRightArrow.tsx`
- [x] `layout/SafeAreaContainer/index.tsx`
- [x] `layout/XStack/index.tsx`
- [x] `layout/YStack/index.tsx`
- [x] `index.ts`


## ğŸ”„ å¾…è¿ç§»ç»„ä»¶

### é«˜ä¼˜å…ˆçº§ - æ ¸å¿ƒUIç»„ä»¶ (30 é¡¹ï¼Œå…¶ä¸­ 29 é¡¹å¾…è¿ç§»)

#### `src/components/ui/` (15 ä¸ªç»„ä»¶)
- [ ] `AvatarEditButton.tsx`
- [ ] `CustomButton.tsx`
- [ ] `CustomSlider.tsx`
- [ ] `CustomTag.tsx`
- [ ] `DatabackupIcon.tsx`
- [ ] `ImageSkeleton.tsx`
- [ ] `MarqueeComponent.tsx`
- [ ] `ModelTags.tsx`
- [ ] `SafeAreaContainer.tsx`
- [ ] `Searching.tsx`
- [ ] `SearchInput.tsx`
- [ ] `Select.tsx`
- [ ] `SelectionSheet.tsx`
- [ ] `Switch.tsx`
- [ ] `WebsearchIcon.tsx`

#### é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶ (4 ä¸ªç»„ä»¶)
- [ ] `header-bar/AssistantSelection.tsx`
- [ ] `header-bar/index.tsx`
- [ ] `header-bar/MenuButton.tsx`
- [ ] `header-bar/NewTopicButton.tsx`

#### æ¶ˆæ¯è¾“å…¥ç»„ä»¶ (10 ä¸ªç»„ä»¶)
- [ ] `message-input/FilePreview.tsx`
- [ ] `message-input/MentionButton.tsx`
- [ ] `message-input/MessageInput.tsx`
- [ ] `message-input/PauseButton.tsx`
- [ ] `message-input/SendButton.tsx`
- [ ] `message-input/ToolPreview.tsx`
- [ ] `message-input/VoiceButton.tsx`
- [ ] `message-input/preview-items/FileItem.tsx`
- [ ] `message-input/preview-items/ImageItem.tsx`
- [ ] `message-input/preview-items/PreviewItem.tsx`

#### å…¶ä»–æ ¸å¿ƒç»„ä»¶ (1 ä¸ªç»„ä»¶ï¼Œå·²å®Œæˆ)
- [x] `ExternalLink.tsx` (å·²è¿ç§»è‡³ `componentsV2/base/ExternalLink`)

### ä¸­ç­‰ä¼˜å…ˆçº§ - åŠŸèƒ½ç»„ä»¶ (43 é¡¹ï¼Œå…¶ä¸­ 40 ä¸ªå¾…è¿ç§»)

#### åŠ©æ‰‹ç›¸å…³ç»„ä»¶ (11 ä¸ªç»„ä»¶)
- [ ] `assistant/AssistantItem.tsx`
- [ ] `assistant/AssistantItemCard.tsx`
- [ ] `assistant/AssistantItemSkeleton.tsx`
- [ ] `assistant/EmojiAvator.tsx`
- [ ] `assistant/ModelTabContent.tsx`
- [ ] `assistant/PromptTabContent.tsx`
- [ ] `assistant/ToolTabContent.tsx`
- [ ] `assistant/market/AssistantItemSheet.tsx`
- [ ] `assistant/market/AssistantMarketLoading.tsx`
- [ ] `assistant/market/AssistantsTabContent.tsx`
- [ ] `assistant/market/GroupTag.tsx`

#### è®¾ç½®ç›¸å…³ç»„ä»¶ (17 ä¸ªç»„ä»¶ï¼Œå…¶ä¸­ 1 ä¸ªå·²å®Œæˆ)
- [ ] `settings/HeaderBar.tsx`
- [ ] `settings/index.tsx`
- [ ] `settings/Providers.tsx`
- [ ] `settings/data/Notion.tsx`
- [ ] `settings/data/RestoreProgressModal.tsx`
- [ ] `settings/data/WebDav.tsx`
- [ ] `settings/data/Yuque.tsx`
- [ ] `settings/providers/AddModelSheet.tsx`
- [ ] `settings/providers/AddProviderSheet.tsx`
- [ ] `settings/providers/ApiCheckSheet.tsx`
- [ ] `settings/providers/AuthCard.tsx`
- [ ] `settings/providers/EmptyModelView.tsx`
- [ ] `settings/providers/ProviderIconButton.tsx`
- [ ] `settings/providers/ProviderItem.tsx`
- [ ] `settings/websearch/ApiCheckSheet.tsx`
- [ ] `settings/websearch/WebsearchProviderRow.tsx`
- [x] `settings/providers/ModelGroup.tsx` (å·²è¿ç§»è‡³ `componentsV2/interactive/ModelGroup`)

#### å¼¹çª—å’Œæ¨¡æ€æ¡†ç»„ä»¶ (11 ä¸ªç»„ä»¶)
- [ ] `sheets/BottomSheetSearchInput.tsx`
- [ ] `sheets/CitationSheet.tsx`
- [ ] `sheets/ModelSheet.tsx`
- [ ] `sheets/ReasoningSheet.tsx`
- [ ] `sheets/TextSelectionSheet.tsx`
- [ ] `sheets/ToolSheet/CameraModal.tsx`
- [ ] `sheets/ToolSheet/ExternalTools.tsx`
- [ ] `sheets/ToolSheet/SystemTools.tsx`
- [ ] `sheets/ToolSheet/ToolSheet.tsx`
- [ ] `sheets/ToolUseSheet.tsx`
- [ ] `sheets/WebsearchSheet.tsx`

#### èœå•å’Œè¯é¢˜ç»„ä»¶ (3 ä¸ªç»„ä»¶ï¼Œå…¶ä¸­ 2 ä¸ªå·²å®Œæˆ)
- [ ] `menu/CustomDrawerContent.tsx`
- [ ] `menu/MenuTab.tsx`
- [ ] `menu/MenuTabContent.tsx`
- [x] `topic/GroupTopicList.tsx`
- [x] `topic/TopicItem.tsx`

### é¡µé¢ç»„ä»¶ (0 å¾…è¿ç§» / 39)

#### é«˜ä¼˜å…ˆçº§æ ¸å¿ƒé¡µé¢ (5 ä¸ªé¡µé¢)
- [x] `WelcomeScreen.tsx`
- [x] `home/ChatScreen.tsx`
- [x] `topic/TopicScreen.tsx`
- [x] `assistant/AssistantScreen.tsx`
- [x] `settings/SettingsScreen.tsx`

#### èŠå¤©å’Œé¦–é¡µç›¸å…³é¡µé¢ (18 ä¸ªé¡µé¢ï¼Œå…¨éƒ¨å·²è¿ç§»)
- [x] `home/WelcomeContent.tsx`
- [x] `home/markdown/ReactNativeMarkdown.tsx`
- [x] `home/markdown/useMarkedRenderer.tsx`
- [x] `home/messages/CitationList.tsx`
- [x] `home/messages/MessageContent.tsx`
- [x] `home/messages/MessageContextMenu.tsx`
- [x] `home/messages/MessageFooter.tsx`
- [x] `home/messages/MessageGroup.tsx`
- [x] `home/messages/MessageHeader.tsx`
- [x] `home/messages/Messages.tsx`
- [x] `home/messages/MultiModelTab.tsx`
- [x] `home/messages/blocks/ErrorBlock.tsx`
- [x] `home/messages/blocks/MainTextBlock.tsx`
- [x] `home/messages/blocks/PlaceholderBlock.tsx`
- [x] `home/messages/blocks/ThinkingBlock.tsx`
- [x] `home/messages/blocks/TranslationBlock.tsx`
- [x] `home/messages/blocks/index.tsx`
- [x] `home/messages/tools/MessageWebSearchTool.tsx`

#### åŠ©æ‰‹ç›¸å…³é¡µé¢ (5 ä¸ªé¡µé¢ï¼Œå…¨éƒ¨å·²è¿ç§»)
- [x] `assistant/AssistantDetailScreen.tsx`
- [x] `assistant/AssistantMarketScreen.tsx`
- [x] `assistant/tabs/ModelTabScreen.tsx`
- [x] `assistant/tabs/PromptTabScreen.tsx`
- [x] `assistant/tabs/ToolTabScreen.tsx`

#### è®¾ç½®ç›¸å…³é¡µé¢ (16 ä¸ªé¡µé¢ï¼Œå…¨éƒ¨å·²è¿ç§»)
- [x] `settings/assistant/AssistantSettingsScreen.tsx`
- [x] `settings/data/BasicDataSettingsScreen.tsx`
- [x] `settings/data/DataSettingsScreen.tsx`
- [x] `settings/data/Landrop/QRCodeScanner.tsx`
- [x] `settings/general/GeneralSettingsScreen.tsx`
- [x] `settings/general/LanguageChangeScreen.tsx`
- [x] `settings/general/ThemeSettingsScreen.tsx`
- [x] `settings/personal/PersonalScreen.tsx`
- [x] `settings/providers/ApiServiceScreen.tsx`
- [x] `settings/providers/ManageModelsScreen.tsx`
- [x] `settings/providers/ProviderListScreen.tsx`
- [x] `settings/providers/ProviderSettingsScreen.tsx`
- [x] `settings/websearch/GeneralSettings.tsx`
- [x] `settings/websearch/ProviderSettings.tsx`
- [x] `settings/websearch/WebSearchProviderSettingsScreen.tsx`
- [x] `settings/websearch/WebSearchSettingsScreen.tsx`


## âœ¨ æ— éœ€è¿ç§»çš„ç»„ä»¶ (å…± 44 é¡¹)

è¿™äº›ç»„ä»¶ä¸ä½¿ç”¨ Tamagui æˆ–å·²ç»è¿ç§»å®Œæˆ:

### å›¾æ ‡ç»„ä»¶ (16 ä¸ªç»„ä»¶)
- [x] `icons/ArrowIcon.tsx`
- [x] `icons/AssetsIcon.tsx`
- [x] `icons/DefaultProviderIcon.tsx`
- [x] `icons/EditIcon.tsx`
- [x] `icons/FallbackFavicon.tsx`
- [x] `icons/FileIcon.tsx`
- [x] `icons/index.tsx`
- [x] `icons/MarketIcon.tsx`
- [x] `icons/MdiLightbulbIcon.tsx`
- [x] `icons/ModelChangeIcon.tsx`
- [x] `icons/MultiModelIcon.tsx`
- [x] `icons/TranslationIcon.tsx`
- [x] `icons/UnionIcon.tsx`
- [x] `icons/UnionPlusIcon.tsx`
- [x] `icons/UserChangeIcon.tsx`
- [x] `icons/VoiceIcon.tsx`

### å…¶ä»–ç»„ä»¶ (15 ä¸ªç»„ä»¶)
- [x] `message-input/ThinkButton.tsx`
- [x] `message-input/ToolButton.tsx`
- [x] `settings/data/index.tsx`
- [x] `settings/providers/ModelSelect.tsx`
- [x] `settings/providers/ProviderSelect.tsx`
- [x] `settings/websearch/WebsearchSelect.tsx`
- [x] `sheets/ToolSheet.tsx`
- [x] `sheets/ToolSheet/index.ts`
- [x] `sheets/ToolSheet/useAIFeatureHandler.ts`
- [x] `sheets/ToolSheet/useCameraHandler.ts`
- [x] `sheets/ToolSheet/useFileHandler.ts`
- [x] `ui/ContextMenu.tsx`
- [x] `ui/DrawerGestureWrapper.tsx`
- [x] `ui/ModelIcon.tsx`
- [x] `ui/ProviderIcon.tsx`

### ä¸ä½¿ç”¨ Tamagui çš„é¡µé¢ç»„ä»¶ (13 ä¸ªé¡µé¢)
- [x] `home/ChatContent.tsx`
- [x] `home/markdown/MarkdownStyles.tsx`
- [x] `home/markdown/useMathEquation.tsx`
- [x] `home/messages/Message.tsx`
- [x] `home/messages/blocks/CitationBlock.tsx`
- [x] `home/messages/blocks/FileBlock.tsx`
- [x] `home/messages/blocks/ImageBlock.tsx`
- [x] `home/messages/blocks/ToolBlock.tsx`
- [x] `home/messages/tools/MessageTool.tsx`
- [x] `home/messages/tools/MessageTools.tsx`
- [x] `settings/about/AboutScreen.tsx`
- [x] `settings/data/Landrop/LandropSettingsScreen.tsx`
- [x] `settings/data/Landrop/Overlay.tsx`

## æœ€æ–°ç»„ä»¶æå–

### ModelGroup ç»„ä»¶ (2025-09-17)

**æå–ä½ç½®**: `src/componentsV2/interactive/ModelGroup/index.tsx`

**åŠŸèƒ½æè¿°**:
- ç»Ÿä¸€çš„æ¨¡å‹åˆ†ç»„å±•ç¤ºç»„ä»¶ï¼Œä½¿ç”¨ Accordion å¸ƒå±€
- æ”¯æŒè‡ªå®šä¹‰æ¨¡å‹é¡¹æ¸²æŸ“å’Œç»„æŒ‰é’®æ¸²æŸ“
- å®Œå…¨å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒäº®/æš—ä¸»é¢˜
- å†…ç½®ç©ºçŠ¶æ€å¤„ç†å’Œå›½é™…åŒ–æ”¯æŒ

**å½±å“çš„æ–‡ä»¶**:
- `src/screens/settings/providers/ManageModelsScreen.tsx` - ä½¿ç”¨å®Œæ•´åŠŸèƒ½ç‰ˆæœ¬
- `src/screens/settings/providers/ProviderSettingsScreen.tsx` - ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬
- `src/componentsV2/index.ts` - æ–°å¢å¯¼å‡º

**ä»£ç ä¼˜åŒ–æ•ˆæœ**:
- å‡å°‘é‡å¤ä»£ç  ~90 è¡Œ
- ç»Ÿä¸€ç»„ä»¶è¡Œä¸ºå’Œæ ·å¼
- æé«˜å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§
- ä¿®å¤ React key props è­¦å‘Š

## è¿ç§»æŒ‡å—

### æ¨èè¿ç§»é¡ºåº

1. **ä»æ ¸å¿ƒUIç»„ä»¶å¼€å§‹** (`src/components/ui/`)
2. **è¿ç§»é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶** (å½±å“å¯¼èˆªåŠŸèƒ½)
3. **è¿ç§»æ¶ˆæ¯è¾“å…¥ç»„ä»¶** (æ ¸å¿ƒèŠå¤©åŠŸèƒ½)
4. **è½¬å‘åŠŸèƒ½ç»„ä»¶** (åŠ©æ‰‹ã€è®¾ç½®ã€å¼¹çª—)
5. **æœ€åå®Œæˆé¡µé¢ç»„ä»¶**

### å¸¸è§è¿ç§»æ¨¡å¼

ä» Tamagui è¿ç§»åˆ° HeroUI æ—¶:

1. å°† Tamagui å¯¼å…¥æ›¿æ¢ä¸º HeroUI ç­‰ä»·ç»„ä»¶
2. æ›´æ–°ç»„ä»¶å±æ€§ä»¥åŒ¹é… HeroUI API
3. ä» Tamagui çš„ token ç³»ç»Ÿè°ƒæ•´ä¸º HeroUI çš„æ ·å¼æ–¹æ¡ˆ
4. è¿ç§»åæµ‹è¯•ç»„ä»¶åŠŸèƒ½
5. æ›´æ–°å¼•ç”¨å·²è¿ç§»ç»„ä»¶çš„ä¾èµ–ç»„ä»¶

### æµ‹è¯•ç­–ç•¥

- ç‹¬ç«‹æµ‹è¯•æ¯ä¸ªè¿ç§»çš„ç»„ä»¶
- éªŒè¯ç»„ä»¶åœ¨çˆ¶é¡µé¢ä¸­ä»èƒ½æ­£å¸¸å·¥ä½œ
- æ£€æŸ¥ä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„å“åº”å¼è¡Œä¸º
- ç¡®ä¿ä¿æŒæ— éšœç¢åŠŸèƒ½

## è¿›åº¦è¿½è¸ª

- **æ€»ä½“è¿›åº¦**: 108/178 (60.7%)
- **ç»„ä»¶**: 36/105 (34.3%)
- **é¡µé¢**: 56/57 (98.2%)
- **å·²å®Œæˆ**: 18/18 (100%)

### WelcomeScreen ç»„ä»¶ (2025-09-18)

**è¿ç§»ä½ç½®**: `src/screens/WelcomeScreen.tsx`

**åŠŸèƒ½æè¿°**:
- åº”ç”¨å¯åŠ¨æ¬¢è¿é¡µé¢ï¼ŒåŒ…å«è½®æ’­ä»‹ç»å’Œå¼€å§‹æŒ‰é’®
- æ”¯æŒè‡ªåŠ¨è½®æ’­å’Œæ‰‹åŠ¨åˆ‡æ¢çš„åŠŸèƒ½ä»‹ç»é¡µé¢
- å®Œå…¨å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒä¸­æ–‡å†…å®¹å±•ç¤º

**è¿ç§»å˜æ›´**:
- å°† Tamagui çš„ `Button, Text, View, XStack, YStack` æ›¿æ¢ä¸º HeroUI ç»„ä»¶
- `Button` ä» 'tamagui' â†’ 'heroui-native' å¹¶ä½¿ç”¨ Tailwind æ ·å¼
- `Text, XStack, YStack, Image, SafeAreaContainer` ä» 'tamagui' â†’ '@/componentsV2'
- æ‰€æœ‰æ ·å¼å±æ€§è½¬æ¢ä¸º Tailwind classes
- ä¿®å¤ ESLint è­¦å‘Šï¼ˆè½¬ä¹‰å¼•å·å­—ç¬¦ï¼‰

**æ ·å¼è½¬æ¢ç¤ºä¾‹**:
- `fontSize={24}` â†’ `className="text-2xl"`
- `backgroundColor="#9333EA"` â†’ `className="bg-purple-600"`
- `paddingVertical={20}` â†’ `className="py-5"`
- `alignItems="center"` â†’ `className="items-center"`

**ä»£ç ä¼˜åŒ–æ•ˆæœ**:
- å®Œå…¨è¿ç§»åˆ°æ–°çš„ç»„ä»¶ç³»ç»Ÿ
- ä¿æŒåŸæœ‰åŠŸèƒ½å’Œè§†è§‰æ•ˆæœ
- ç»Ÿä¸€ä½¿ç”¨ Tailwind æ ·å¼è§„èŒƒ
- ç¬¦åˆé¡¹ç›® ESLint è§„åˆ™

### TopicItem & GroupTopicList ç»„ä»¶ (2025-09-18)

**è¿ç§»ä½ç½®**:
- `src/components/topic/TopicItem.tsx`
- `src/components/topic/GroupTopicList.tsx`

**åŠŸèƒ½æè¿°**:
- TopicItem: è¯é¢˜åˆ—è¡¨é¡¹ç»„ä»¶ï¼Œæ”¯æŒé‡å‘½åã€åˆ é™¤ã€ç”Ÿæˆè¯é¢˜åç§°ç­‰æ“ä½œ
- GroupTopicList: è¯é¢˜åˆ†ç»„åˆ—è¡¨ç»„ä»¶ï¼ŒæŒ‰æ—¶é—´åˆ†ç»„å±•ç¤ºè¯é¢˜

**è¿ç§»å˜æ›´**:

**TopicItem.tsx**:
- æ›¿æ¢ `@tamagui/lucide-icons` â†’ `@/componentsV2/icons/LucideIcon` (Edit3, Sparkles, Trash2)
- å°† `Text, View, XStack, YStack, Input` from 'tamagui' â†’ HeroUI ç»„ä»¶
- `Input` â†’ `TextField` ç»„ä»¶ç»“æ„ (TextField.Input)
- æ‰€æœ‰æ ·å¼å±æ€§è½¬æ¢ä¸º Tailwind classes
- å›¾æ ‡ color å±æ€§è½¬æ¢ä¸º className

**GroupTopicList.tsx**:
- å°† `Text, YStack` from 'tamagui' â†’ `@/componentsV2`
- Text ç»„ä»¶æ ·å¼è½¬æ¢ä¸º Tailwind classes
- ItemSeparatorComponent ä½¿ç”¨ Tailwind é«˜åº¦ç±»

**æ ·å¼è½¬æ¢ç¤ºä¾‹**:
- `color="$textPrimary"` â†’ `className="text-text-primary dark:text-text-primary-dark"`
- `fontWeight="bold"` â†’ `className="font-bold"`
- `height={10}` â†’ `className="h-2.5"`
- `backgroundColor={isActive ? '$green10' : 'transparent'}` â†’ æ¡ä»¶ className

**ä»£ç ä¼˜åŒ–æ•ˆæœ**:
- å®Œå…¨è¿ç§»åˆ° HeroUI-native ç»„ä»¶ç³»ç»Ÿ
- ç»Ÿä¸€ä½¿ç”¨ Tailwind æ ·å¼è§„èŒƒ
- ä¿æŒæ‰€æœ‰åŸæœ‰åŠŸèƒ½å’Œäº¤äº’æ•ˆæœ
- å›¾æ ‡ç³»ç»Ÿç»Ÿä¸€ä½¿ç”¨ LucideIcon

æœ€åæ›´æ–°: 2025-09-18
Git ä¿¡æ¯: migrate(TopicComponents): migrate TopicItem and GroupTopicList to HeroUI-native
